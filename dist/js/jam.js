!function(){"use strict";function e(t,n,r){return("string"==typeof n?n:n.toString()).replace(t.define||i,function(e,n,o,a){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in r||(":"===o?(t.defineParams&&a.replace(t.defineParams,function(e,t,o){r[n]={arg:t,text:o}}),n in r||(r[n]=a)):new Function("def","def['"+n+"']="+a)(r)),""}).replace(t.use||i,function(n,o){t.useParams&&(o=o.replace(t.useParams,function(e,t,n,o){if(r[n]&&r[n].arg&&o){var a=(n+":"+o).replace(/'|\\/g,"_");return r.__exp=r.__exp||{},r.__exp[a]=r[n].text.replace(new RegExp("(^|[^\\w$])"+r[n].arg+"([^\\w$])","g"),"$1"+o+"$2"),t+"def.__exp['"+a+"']"}}));var a=new Function("def","return "+o)(r);return a?e(t,a,r):a})}function t(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var n,r={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};r.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(n,function(e){return t[e]||e}):""}},n=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):n.doT=r;var o={start:"'+(",end:")+'",startencode:"'+encodeHTML("},a={start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("},i=/$^/;r.template=function(c,u,s){var d,l,f=(u=u||r.templateSettings).append?o:a,p=0,g=u.use||u.define?e(u,c,s||{}):c;g=("var out='"+(u.strip?g.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):g).replace(/'|\\/g,"\\$&").replace(u.interpolate||i,function(e,n){return f.start+t(n)+f.end}).replace(u.encode||i,function(e,n){return d=!0,f.startencode+t(n)+f.end}).replace(u.conditional||i,function(e,n,r){return n?r?"';}else if("+t(r)+"){out+='":"';}else{out+='":r?"';if("+t(r)+"){out+='":"';}out+='"}).replace(u.iterate||i,function(e,n,r,o){return n?(p+=1,l=o||"i"+p,n=t(n),"';var arr"+p+"="+n+";if(arr"+p+"){var "+r+","+l+"=-1,l"+p+"=arr"+p+".length-1;while("+l+"<l"+p+"){"+r+"=arr"+p+"["+l+"+=1];out+='"):"';} } out+='"}).replace(u.evaluate||i,function(e,n){return"';"+t(n)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),d&&(u.selfcontained||!n||n._encodeHTML||(n._encodeHTML=r.encodeHTMLSource(u.doNotSkipEncoded)),g="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+r.encodeHTMLSource.toString()+"("+(u.doNotSkipEncoded||"")+"));"+g);try{return new Function(u.varname,g)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+g),e}},r.compile=function(e,t){return r.template(e,null,t)}}(),function(){function e(){document.querySelectorAll("script:not(.accounted)").forEach(function(e){e.classList.add("accounted")})}function t(e){document.querySelectorAll("script:not(.accounted)").forEach(function(e){var t=document.createElement("SCRIPT");t.innerHTML=e.innerHTML,e.hasAttribute("src")&&t.setAttribute("src",e.getAttribute("src")),document.head.appendChild(t)})}function n(n,r,a,i){if(n.hasAttribute("jm-data")){var c=n.getAttribute("jm-data");if(-1!=c.indexOf("{")){var u=doT.template(r);r=u(JSON.parse(c)),e(),n.outerHTML=r,t(),o()}else{var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var a=doT.template(r);r=a(JSON.parse(s.responseText)),e(),n.outerHTML=r,t(),o()}},s.open("GET",c,!0),s.send()}}else e(),n.outerHTML=r,t(),o()}function r(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){document.documentElement.innerHTML=t.responseText;document.querySelectorAll("script:not([src$='jam.js']):not([src$='jam.min.js'])").forEach(function(e){var t=document.createElement("SCRIPT");t.innerHTML=e.innerHTML,e.hasAttribute("src")&&t.setAttribute("src",e.getAttribute("src")),document.head.appendChild(t)})}},t.open("GET",e,!0),t.send()}var o=function(e,t){var n;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout(function(){n=null,e.apply(r,o)},t)}}(function(){},100);include=function(e,t,r){var o=window.innerWidth,a=e,i=e,c=0,u=0;for(r&&(u=r.length);c<u;){if(o>r[c]){var s=a.lastIndexOf(".");i=a.substring(0,s+1)+r[c]+a.substr(s)}c++}var d=document.querySelector("script[jm-name="+t+"]:not(.accounted)");if(d.style.display="block",d.style.color="transparent",d.style.height="100vh",d.hasAttribute("jm-lazy")){var l=d.getAttribute("jm-lazy")||100,f=window.innerHeight,p=d.getBoundingClientRect().top-f-l;!function(e,t,r,o){if(t<=0){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&200==a.status&&n(e,a.responseText)},a.open("GET",i,!0),a.send()}else window.addEventListener("scroll",function t(a){if(newPS=e.getBoundingClientRect().top-o-r,newPS<=0){window.removeEventListener("scroll",t);var c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&n(e,c.responseText)},c.open("GET",i,!0),c.send()}})}(d,p,l,f)}else if(d.hasAttribute("jm-hash")){d.style.display="none";var g=d.getAttribute("jm-name");document.querySelectorAll("a[jm-hash="+g+"]").forEach(function(e){e.addEventListener("click",function t(r){e.removeEventListener("click",t);var o=new XMLHttpRequest;o.onreadystatechange=function(){4==o.readyState&&200==o.status&&n(d,o.responseText)},o.open("GET",i,!0),o.send()})})}else{var m=new XMLHttpRequest;m.onreadystatechange=function(){4==m.readyState&&200==m.status&&n(d,m.responseText)},m.open("GET",i,!0),m.send()}},window.addEventListener("click",function(e){var t=function(e){for(;e;){if("A"===e.tagName)return e.href;e=e.parentElement}}(e.target);t&&e.preventDefault(),t&&-1==t.indexOf("#")&&(r(t),history.pushState(null,null,t))}),window.addEventListener("popstate",function(e){r(window.location.href)})}();